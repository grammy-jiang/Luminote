<script lang="ts">
	import DualPaneLayout from '$lib/components/DualPaneLayout.svelte';
	import { onMount } from 'svelte';

	let mounted = false;
	let splitRatio = 50;

	onMount(() => {
		mounted = true;
	});

	function handleSplitChange(event: CustomEvent<{ leftWidth: number; rightWidth: number }>) {
		splitRatio = event.detail.leftWidth;
	}
</script>

<DualPaneLayout
	leftLabel="Source Content"
	rightLabel="Translation"
	on:splitChange={handleSplitChange}
>
	<!-- Left pane: Source content -->
	<div slot="left" class="p-6 space-y-6">
		<div class="mb-8">
			<h1 class="text-3xl font-bold text-gray-900 mb-2">Luminote</h1>
			<p class="text-lg text-gray-600">AI-powered two-pane translation workbench</p>
		</div>

		<div class="prose max-w-none">
			<h2 class="text-2xl font-semibold text-gray-800 mb-4">Welcome to Luminote</h2>

			<p class="text-gray-700 mb-4">
				This is the source content pane. In a real application, this would display the extracted
				content from a webpage in reader mode.
			</p>

			<h3 class="text-xl font-semibold text-gray-800 mb-3">Key Features:</h3>

			<ul class="list-disc list-inside space-y-2 text-gray-700 mb-4">
				<li>Two-pane layout with independent scrolling</li>
				<li>Draggable divider for resizing panes</li>
				<li>Keyboard shortcuts (Ctrl+Arrow keys to resize)</li>
				<li>Responsive design (stacks vertically on mobile)</li>
				<li>Keyboard navigation (Tab to switch panes)</li>
				<li>Accessible with ARIA labels</li>
				<li>localStorage persistence for split ratio</li>
			</ul>

			<div class="bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded my-4">
				<p class="font-semibold text-indigo-900 mb-2">ğŸ¯ Try the Draggable Divider!</p>
				<p class="text-indigo-800 text-sm mb-2">
					Drag the vertical divider between panes to resize them.
				</p>
				<p class="text-indigo-800 text-sm mb-2">
					Use <kbd class="px-2 py-1 bg-indigo-200 rounded">Ctrl</kbd> +
					<kbd class="px-2 py-1 bg-indigo-200 rounded">â†</kbd> /
					<kbd class="px-2 py-1 bg-indigo-200 rounded">â†’</kbd> to adjust in 5% increments.
				</p>
				<p class="text-indigo-800 text-sm">
					Current split: <strong>{splitRatio.toFixed(0)}%</strong> /
					<strong>{(100 - splitRatio).toFixed(0)}%</strong>
				</p>
			</div>

			<p class="text-gray-700 mb-4">
				Try scrolling this pane independently from the right pane. Press Tab to switch focus between
				panes.
			</p>

			<h3 class="text-lg font-semibold text-gray-800 mb-3 mt-6">Setup Status:</h3>

			<div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded my-4">
				<p class="font-semibold text-blue-900 mb-2">âœ… SvelteKit Initialized</p>
				<p class="text-blue-800 text-sm">TypeScript, Vite, and routing configured</p>
			</div>

			<div class="bg-green-50 border-l-4 border-green-500 p-4 rounded my-4">
				<p class="font-semibold text-green-900 mb-2">âœ… Tailwind CSS Working</p>
				<p class="text-green-800 text-sm">Styling system active and responsive</p>
			</div>

			<div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded my-4">
				<p class="font-semibold text-purple-900 mb-2">âœ… Development Tools Ready</p>
				<p class="text-purple-800 text-sm">ESLint, Prettier, and Vitest configured</p>
			</div>

			{#if mounted}
				<div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded my-4">
					<p class="font-semibold text-yellow-900 mb-2">âœ… Client-side Rendering</p>
					<p class="text-yellow-800 text-sm">Svelte reactive features working</p>
				</div>
			{/if}

			<p class="text-gray-700 mt-4">
				Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut
				labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
				laboris nisi ut aliquip ex ea commodo consequat.
			</p>
		</div>
	</div>

	<!-- Right pane: Translation -->
	<div slot="right" class="p-6 space-y-6">
		<div class="mb-8">
			<h1 class="text-3xl font-bold text-gray-900 mb-2">Luminote</h1>
			<p class="text-lg text-gray-600">
				AIé©±åŠ¨çš„åŒçª—æ ¼ç¿»è¯‘å·¥ä½œå° (AI-powered two-pane translation workbench)
			</p>
		</div>

		<div class="prose max-w-none">
			<h2 class="text-2xl font-semibold text-gray-800 mb-4">æ¬¢è¿ä½¿ç”¨ Luminote</h2>

			<p class="text-gray-700 mb-4">
				è¿™æ˜¯ç¿»è¯‘å†…å®¹çª—æ ¼ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºä»ç½‘é¡µæå–çš„å†…å®¹çš„ç¿»è¯‘ç‰ˆæœ¬ã€‚
			</p>

			<h3 class="text-xl font-semibold text-gray-800 mb-3">ä¸»è¦ç‰¹ç‚¹ï¼š</h3>

			<ul class="list-disc list-inside space-y-2 text-gray-700 mb-4">
				<li>ç‹¬ç«‹æ»šåŠ¨çš„åŒçª—æ ¼å¸ƒå±€</li>
				<li>å¯æ‹–åŠ¨åˆ†éš”çº¿è°ƒæ•´çª—æ ¼å¤§å°</li>
				<li>é”®ç›˜å¿«æ·é”®ï¼ˆCtrl+æ–¹å‘é”®è°ƒæ•´å¤§å°ï¼‰</li>
				<li>å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯å‚ç›´å †å ï¼‰</li>
				<li>é”®ç›˜å¯¼èˆªï¼ˆTabé”®åˆ‡æ¢çª—æ ¼ï¼‰</li>
				<li>å¸¦æœ‰ARIAæ ‡ç­¾çš„æ— éšœç¢è®¿é—®</li>
				<li>localStorageæŒä¹…åŒ–åˆ†å‰²æ¯”ä¾‹</li>
			</ul>

			<div class="bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded my-4">
				<p class="font-semibold text-indigo-900 mb-2">ğŸ¯ è¯•è¯•å¯æ‹–åŠ¨çš„åˆ†éš”çº¿ï¼</p>
				<p class="text-indigo-800 text-sm mb-2">æ‹–åŠ¨çª—æ ¼ä¹‹é—´çš„å‚ç›´åˆ†éš”çº¿æ¥è°ƒæ•´å®ƒä»¬çš„å¤§å°ã€‚</p>
				<p class="text-indigo-800 text-sm mb-2">
					ä½¿ç”¨ <kbd class="px-2 py-1 bg-indigo-200 rounded">Ctrl</kbd> +
					<kbd class="px-2 py-1 bg-indigo-200 rounded">â†</kbd> /
					<kbd class="px-2 py-1 bg-indigo-200 rounded">â†’</kbd> æŒ‰5%å¢é‡è°ƒæ•´ã€‚
				</p>
				<p class="text-indigo-800 text-sm">
					å½“å‰åˆ†å‰²ï¼š<strong>{splitRatio.toFixed(0)}%</strong> /
					<strong>{(100 - splitRatio).toFixed(0)}%</strong>
				</p>
			</div>

			<p class="text-gray-700 mb-4">å°è¯•ç‹¬ç«‹äºå·¦ä¾§çª—æ ¼æ»šåŠ¨æ­¤çª—æ ¼ã€‚æŒ‰Tabé”®åœ¨çª—æ ¼ä¹‹é—´åˆ‡æ¢ç„¦ç‚¹ã€‚</p>

			<h3 class="text-lg font-semibold text-gray-800 mb-3 mt-6">è®¾ç½®çŠ¶æ€ï¼š</h3>

			<div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded my-4">
				<p class="font-semibold text-blue-900 mb-2">âœ… SvelteKit å·²åˆå§‹åŒ–</p>
				<p class="text-blue-800 text-sm">TypeScriptã€Viteå’Œè·¯ç”±å·²é…ç½®</p>
			</div>

			<div class="bg-green-50 border-l-4 border-green-500 p-4 rounded my-4">
				<p class="font-semibold text-green-900 mb-2">âœ… Tailwind CSS å·¥ä½œæ­£å¸¸</p>
				<p class="text-green-800 text-sm">æ ·å¼ç³»ç»Ÿæ´»è·ƒä¸”å“åº”å¼</p>
			</div>

			<div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded my-4">
				<p class="font-semibold text-purple-900 mb-2">âœ… å¼€å‘å·¥å…·å°±ç»ª</p>
				<p class="text-purple-800 text-sm">ESLintã€Prettierå’ŒVitestå·²é…ç½®</p>
			</div>

			{#if mounted}
				<div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded my-4">
					<p class="font-semibold text-yellow-900 mb-2">âœ… å®¢æˆ·ç«¯æ¸²æŸ“</p>
					<p class="text-yellow-800 text-sm">Svelteå“åº”å¼åŠŸèƒ½å·¥ä½œæ­£å¸¸</p>
				</div>
			{/if}

			<p class="text-gray-700 mt-4">
				è¿™æ˜¯ä¸€äº›å¡«å……æ–‡æœ¬ï¼Œç”¨äºæ¼”ç¤ºç‹¬ç«‹æ»šåŠ¨åŠŸèƒ½ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºç¿»è¯‘åçš„å†…å®¹ï¼Œä¸å·¦ä¾§çš„æºå†…å®¹ç›¸å¯¹åº”ã€‚
			</p>
		</div>
	</div>
</DualPaneLayout>
