<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Documentation Team">
    <meta property="article:published_time" content="2024-01-15T10:00:00Z">
    <title>FastAPI Complete Guide - Building REST APIs with Python</title>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "TechArticle",
        "headline": "FastAPI Complete Guide - Building REST APIs with Python",
        "author": {
            "@type": "Organization",
            "name": "Documentation Team"
        },
        "datePublished": "2024-01-15T10:00:00Z",
        "proficiencyLevel": "Intermediate",
        "dependencies": "Python 3.7+, FastAPI, Uvicorn"
    }
    </script>
</head>
<body>
    <!-- API Documentation Structure -->
    <article class="api-documentation">
        <h1>FastAPI Complete Guide</h1>

        <p>FastAPI is a modern, fast (high-performance) web framework for building APIs with Python 3.7+ based on standard Python type hints.</p>

        <!-- Nested heading structure -->
        <h2>Getting Started</h2>
        <p>This section covers installation and basic setup.</p>

        <h3>Installation</h3>
        <p>Install FastAPI using pip:</p>

        <!-- Code block with language and line numbers to be removed -->
        <pre><code class="language-bash">1. pip install fastapi
2. pip install "uvicorn[standard]"</code></pre>

        <h3>First Application</h3>
        <p>Create a simple FastAPI application:</p>

        <!-- Python code with syntax highlighting -->
        <pre><code class="language-python">from fastapi import FastAPI

app = FastAPI()

@app.get("/")
async def root():
    return {"message": "Hello World"}

@app.get("/items/{item_id}")
async def read_item(item_id: int, q: str | None = None):
    return {"item_id": item_id, "q": q}
</code></pre>

        <h3>Running the Server</h3>
        <p>Start the development server with uvicorn:</p>

        <pre><code class="language-bash">uvicorn main:app --reload</code></pre>

        <h2>Core Concepts</h2>
        <p>Understanding the fundamental building blocks of FastAPI.</p>

        <h3>Path Parameters</h3>
        <p>Path parameters are variable parts of a URL path.</p>

        <!-- Tabbed content example - multiple code examples -->
        <div class="tabbed-content" data-tabs="python,typescript">
            <div class="tab-content" data-tab="python">
                <pre><code class="language-python">@app.get("/users/{user_id}")
async def read_user(user_id: int):
    return {"user_id": user_id}
</code></pre>
            </div>
            <div class="tab-content" data-tab="typescript">
                <pre><code class="language-typescript">app.get("/users/:userId", async (req, res) => {
    const userId = parseInt(req.params.userId);
    res.json({ userId });
});
</code></pre>
            </div>
        </div>

        <h3>Query Parameters</h3>
        <p>Query parameters provide optional filtering:</p>

        <pre><code class="language-python">from typing import Optional

@app.get("/items/")
async def read_items(skip: int = 0, limit: int = 10):
    return fake_items_db[skip : skip + limit]
</code></pre>

        <h3>Request Body</h3>
        <p>Use Pydantic models for request validation:</p>

        <!-- Code with proper indentation -->
        <pre><code class="language-python">from pydantic import BaseModel

class Item(BaseModel):
    name: str
    description: str | None = None
    price: float
    tax: float | None = None

@app.post("/items/")
async def create_item(item: Item):
    return item
</code></pre>

        <h2>API Reference</h2>
        <p>Complete API endpoint documentation.</p>

        <h3>Endpoints</h3>

        <h4>GET /users</h4>
        <p>Retrieve a list of users.</p>

        <ul>
            <li><strong>Parameters:</strong></li>
            <li><code>skip</code> (integer, optional) - Number of records to skip</li>
            <li><code>limit</code> (integer, optional) - Maximum number of records to return</li>
        </ul>

        <p>Example response:</p>
        <pre><code class="language-json">{
    "users": [
        {"id": 1, "name": "Alice"},
        {"id": 2, "name": "Bob"}
    ],
    "total": 100
}
</code></pre>

        <h4>POST /users</h4>
        <p>Create a new user.</p>

        <ul>
            <li><strong>Request Body:</strong></li>
            <li><code>name</code> (string, required) - User's full name</li>
            <li><code>email</code> (string, required) - User's email address</li>
        </ul>

        <h3>Error Handling</h3>
        <p>FastAPI provides built-in error handling with HTTP exceptions.</p>

        <pre><code class="language-python">from fastapi import HTTPException

@app.get("/items/{item_id}")
async def read_item(item_id: str):
    if item_id not in items:
        raise HTTPException(status_code=404, detail="Item not found")
    return {"item": items[item_id]}
</code></pre>

        <h2>Advanced Topics</h2>

        <h3>Dependency Injection</h3>
        <p>FastAPI has a powerful dependency injection system.</p>

        <!-- Multiple code blocks in sequence -->
        <pre><code class="language-python">from fastapi import Depends

async def get_db():
    db = Database()
    try:
        yield db
    finally:
        db.close()

@app.get("/users/")
async def read_users(db = Depends(get_db)):
    return db.query_users()
</code></pre>

        <h3>Background Tasks</h3>
        <p>Execute tasks after returning a response:</p>

        <pre><code class="language-python">from fastapi import BackgroundTasks

def write_log(message: str):
    with open("log.txt", "a") as log:
        log.write(message)

@app.post("/send-email/")
async def send_email(email: str, background_tasks: BackgroundTasks):
    background_tasks.add_task(write_log, f"Email sent to {email}")
    return {"message": "Email sent"}
</code></pre>

        <h2>Best Practices</h2>

        <h3>Project Structure</h3>
        <p>Organize your FastAPI project for maintainability:</p>

        <!-- Plain text code block showing directory structure -->
        <pre><code>my_project/
├── app/
│   ├── __init__.py
│   ├── main.py
│   ├── dependencies.py
│   ├── routers/
│   │   ├── __init__.py
│   │   ├── items.py
│   │   └── users.py
│   └── models/
│       ├── __init__.py
│       └── user.py
├── tests/
└── requirements.txt
</code></pre>

        <h3>Testing</h3>
        <p>Use TestClient for testing endpoints:</p>

        <pre><code class="language-python">from fastapi.testclient import TestClient
from app.main import app

client = TestClient(app)

def test_read_root():
    response = client.get("/")
    assert response.status_code == 200
    assert response.json() == {"message": "Hello World"}
</code></pre>

        <!-- Reference links section -->
        <h2>References</h2>
        <ul>
            <li><a href="https://fastapi.tiangolo.com">Official FastAPI Documentation</a></li>
            <li><a href="https://pydantic-docs.helpmanual.io">Pydantic Documentation</a></li>
            <li><a href="https://www.uvicorn.org">Uvicorn Documentation</a></li>
            <li><a href="https://www.starlette.io">Starlette Documentation</a></li>
        </ul>

        <h2>See Also</h2>
        <ul>
            <li><a href="/guides/async-python">Async Programming in Python</a></li>
            <li><a href="/guides/rest-api-design">REST API Design Best Practices</a></li>
            <li><a href="/tutorials/oauth2">OAuth2 Authentication with FastAPI</a></li>
        </ul>
    </article>
</body>
</html>
